CONFIG_LOG=y

# mbedtls needs a bigger stack
CONFIG_MAIN_STACK_SIZE=4096

CONFIG_NETWORKING=y

CONFIG_NET_L2_ETHERNET=y

CONFIG_NET_CONFIG_AUTO_INIT=y

CONFIG_ETH_STM32_HAL=y
# Set the mac address. If you have multiple devices these should be
# set individually or use a random one. If you use a random mac address
# the ARP caches for everything on your network is going to have a lot
# of junk entries. This is usually not a big problem unless you reboot
# the device a *lot* (or reboot a lot of devices a lot of times)
# The prefix of the MAC address is set to 00:80:e1 (for ST Micro)
CONFIG_ETH_STM32_HAL_RANDOM_MAC=n
CONFIG_ETH_STM32_HAL_MAC3=1
CONFIG_ETH_STM32_HAL_MAC4=2
CONFIG_ETH_STM32_HAL_MAC5=3

CONFIG_NET_LOG=y
CONFIG_NET_ARP=y
CONFIG_NET_IPV4=y
CONFIG_NET_IPV6=n
CONFIG_NET_DHCPV4=y
CONFIG_NET_TCP=yn
CONFIG_NET_UDP=y
CONFIG_NET_CONFIG_NEED_IPV4=y

CONFIG_NET_SOCKETS_SOCKOPT_TLS=y
CONFIG_NET_SOCKETS_TLS_MAX_CONTEXTS=4
CONFIG_NET_SOCKETS_ENABLE_DTLS=y
CONFIG_POSIX_MAX_FDS=8

CONFIG_COAP=y

CONFIG_DNS_RESOLVER=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_SOCKETS_LOG_LEVEL_DBG=y
# CONFIG_NET_SOCKETS_POSIX_NAMES=y

# for debugging


CONFIG_TLS_CREDENTIALS=y
CONFIG_TLS_MAX_CREDENTIALS_NUMBER=4
CONFIG_NET_ICMPV4_ACCEPT_BROADCAST=y

# TLS configuration
CONFIG_MBEDTLS=y
#CONFIG_MBEDTLS_BUILTIN=y
CONFIG_MBEDTLS_ENABLE_HEAP=y
CONFIG_MBEDTLS_HEAP_SIZE=16000
CONFIG_MBEDTLS_SSL_MAX_CONTENT_LEN=4096
CONFIG_MBEDTLS_DTLS=y


#
#  # Enable the ED25519 curve since it's used in the certificate
#
CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_PSK_ENABLED=y
CONFIG_MBEDTLS_ECP_DP_CURVE25519_ENABLED=y
CONFIG_MBEDTLS_TLS_VERSION_1_2=y
CONFIG_MBEDTLS_DEBUG=y
CONFIG_MBEDTLS_DEBUG_LEVEL=0
CONFIG_MBEDTLS_PEM_CERTIFICATE_FORMAT=y
CONFIG_MBEDTLS_ECP_ALL_ENABLED=y
CONFIG_MBEDTLS_MAC_ALL_ENABLED=y
CONFIG_MBEDTLS_CIPHER_ALL_ENABLED=y
#CONFIG_MBEDTLS_KEY_EXCHANGE_ALL_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_ECDSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDH_ECDSA_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_BP256R1_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_RSA_ENABLED=y
#  #CONFIG_MBEDTLS_X509_CRT_PARSE_C=y
#  #CONFIG_MBEDTLS_X509_PEM_PARSE_C=y
#  CONFIG_MBEDTLS_PEM_CERTIFICATE_FORMAT=y
#  #CONFIG_MBEDTLS_SERVER_NAME_INDICATION=y
#  CONFIG_MBEDTLS_MAC_SHA512_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_RSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDH_RSA_ENABLED=y
#  CONFIG_MBEDTLS_MAC_CMAC_ENABLED=y
#
#
#  CONFIG_MBEDTLS=y
#  CONFIG_MBEDTLS_BUILTIN=y
#  # CONFIG_MBEDTLS_LIBRARY is not set
#  # CONFIG_CUSTOM_MBEDTLS_CFG_FILE is not set
#  #CONFIG_MBEDTLS_CFG_FILE="config-tls-generic.h"
#  # CONFIG_MBEDTLS_TLS_VERSION_1_0 is not set
#  # CONFIG_MBEDTLS_TLS_VERSION_1_1 is not set
#  CONFIG_MBEDTLS_TLS_VERSION_1_2=y
#  # CONFIG_MBEDTLS_SSL_EXPORT_KEYS is not set
#  # CONFIG_MBEDTLS_SSL_ALPN is not set
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_ALL_ENABLED is not set
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_PSK_ENABLED is not set
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_DHE_PSK_ENABLED is not set
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_PSK_ENABLED is not set
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_RSA_PSK_ENABLED is not set
#  CONFIG_MBEDTLS_KEY_EXCHANGE_RSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_DHE_RSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_RSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDHE_ECDSA_ENABLED=y
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDH_ECDSA_ENABLED=y
#  # CONFIG_MBEDTLS_ECDSA_DETERMINISTIC is not set
#  CONFIG_MBEDTLS_KEY_EXCHANGE_ECDH_RSA_ENABLED=y
#  # CONFIG_MBEDTLS_KEY_EXCHANGE_ECJPAKE_ENABLED is not set
#  # CONFIG_MBEDTLS_ECP_ALL_ENABLED is not set
#  CONFIG_MBEDTLS_ECP_DP_SECP192R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP224R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP256R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP384R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP521R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP192K1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP224K1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_SECP256K1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_BP256R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_BP384R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_BP512R1_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_CURVE25519_ENABLED=y
#  CONFIG_MBEDTLS_ECP_DP_CURVE448_ENABLED=y
#  # CONFIG_MBEDTLS_ECP_NIST_OPTIM is not set
#  CONFIG_MBEDTLS_CIPHER_ALL_ENABLED=y
#  #CONFIG_MBEDTLS_CIPHER_AES_ENABLED=y
#  CONFIG_MBEDTLS_AES_ROM_TABLES=y
#  # CONFIG_MBEDTLS_CIPHER_CAMELLIA_ENABLED is not set
#  #CONFIG_MBEDTLS_CIPHER_DES_ENABLED=y
#  # CONFIG_MBEDTLS_CIPHER_ARC4_ENABLED is not set
#  # CONFIG_MBEDTLS_CIPHER_CHACHA20_ENABLED is not set
#  # CONFIG_MBEDTLS_CIPHER_BLOWFISH_ENABLED is not set
#  # CONFIG_MBEDTLS_CIPHER_CCM_ENABLED is not set
#  # CONFIG_MBEDTLS_CIPHER_GCM_ENABLED is not set
#  # CONFIG_MBEDTLS_CIPHER_MODE_XTS_ENABLED is not set
#  #CONFIG_MBEDTLS_CIPHER_MODE_CBC_ENABLED=y
#  # CONFIG_MBEDTLS_CIPHER_MODE_CTR_ENABLED is not set
#  # CONFIG_MBEDTLS_MAC_ALL_ENABLED is not set
#  # CONFIG_MBEDTLS_MAC_MD4_ENABLED is not set
#  CONFIG_MBEDTLS_MAC_MD5_ENABLED=y
#  CONFIG_MBEDTLS_MAC_SHA1_ENABLED=y
#  CONFIG_MBEDTLS_MAC_SHA256_ENABLED=y
#  CONFIG_MBEDTLS_SHA256_SMALLER=y
#  CONFIG_MBEDTLS_MAC_SHA512_ENABLED=y
#  # CONFIG_MBEDTLS_MAC_POLY1305_ENABLED is not set
#  CONFIG_MBEDTLS_MAC_CMAC_ENABLED=y
#  CONFIG_MBEDTLS_CTR_DRBG_ENABLED=y
#  # CONFIG_MBEDTLS_HMAC_DRBG_ENABLED is not set
#  CONFIG_MBEDTLS_CIPHER=y
#  CONFIG_MBEDTLS_MD=y
#  # CONFIG_MBEDTLS_GENPRIME_ENABLED is not set
#  # CONFIG_MBEDTLS_HAVE_ASM is not set
#  # CONFIG_MBEDTLS_ENTROPY_ENABLED is not set
#  # CONFIG_MBEDTLS_USER_CONFIG_ENABLE is not set
#  # CONFIG_MBEDTLS_SERVER_NAME_INDICATION is not set
#  # CONFIG_MBEDTLS_PK_WRITE_C is not set
#  # CONFIG_MBEDTLS_HAVE_TIME_DATE is not set
#  CONFIG_MBEDTLS_SSL_MAX_CONTENT_LEN=1500
#  # CONFIG_MBEDTLS_DEBUG is not set
#  # CONFIG_MBEDTLS_MEMORY_DEBUG is not set
#  # CONFIG_MBEDTLS_TEST is not set
#  CONFIG_MBEDTLS_ENABLE_HEAP=y
#  CONFIG_MBEDTLS_HEAP_SIZE=8192
#  #CONFIG_APP_LINK_WITH_MBEDTLS=y